<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>my own practice</title>
  </head>
  <body>
    <h1>This page is a youtube practice.</h1>
    <h4>*** JavaScript Higher Order Functions & Arrays ***</h4>
    <ul>
      <li>Filter()</li>
      <li>Map()</li>
      <li>sort()</li>
      <li>reduce()</li>
    </ul>
    <script>
      const companies = [
        { name: "Microsoft", category: "IT", start: 1972, end: 2100 },
        { name: "Samsung", category: "Technology", start: 1985, end: 2090 },
        { name: "Benz", category: "Mechanic", start: 1843, end: 2010 },
        { name: "Apple", category: "AI", start: 1992, end: 2400 },
        { name: "Facebook", category: "Social Media", start: 1998, end: 2220 },
        { name: "Bouche", category: "Technology", start: 1933, end: 2019 },
        { name: "IBM", category: "IT", start: 1977, end: 2015 },
        { name: "LinkedIn", category: "Social Media", start: 2004, end: 2100 },
        { name: "Honda", category: "Mechanic", start: 1985, end: 2018 }
      ];
      const ages = [23, 34, 12, 9, 45, 21, 78, 36, 5, 17];

      const students = [
        { name: "mostafa", age: 34, from: "Afghanistan" },
        { name: "rohy", age: 31, from: "Afghanistan" },
        { name: "laura", age: 32, from: "finland" },
        { name: "Brandon", age: 44, from: "england" },
        { name: "solo", age: 30, from: "china" }
      ];

      // for loop  **********************************************************
      console.log("***** to view the arrays items. *****");
      for (let i = 0; i < companies.length; i++) {
        console.log(companies[i]);
      }
      for (let i = 0; i < ages.length; i++) {
        console.log(ages[i]);
      }
      for (let i = 0; i < students.length; i++) {
        console.log(students[i]);
      }

      // for each **********************************************************
      companies.forEach(function(company) {
        console.log(`${company.name},is a  ${company.category} company.`);
      });

      ages.forEach(function(age) {
        console.log(`this is ${age} yearsold.`);
      });

      students.forEach(function(man) {
        console.log(`${man.name}, is from ${man.from}`);
      });

      //**** FILTER   **************************************************
      console.log("******    FILTER    *****");
      let canDrink = [];
      for (let i = 0; i < ages.length; i++) {
        if (ages[i] >= 21) {
          canDrink.push(ages[i]);
          console.log("you can have a drink:");
        }
      }
      console.log(canDrink);

      const canDrink2 = ages.filter(function(age) {
        if (age >= 21) {
          return true;
        }
      });
      console.log(canDrink2);

      const canDrink3 = ages.filter((age) => age >= 21);
      console.log(canDrink3);
      //////////
      const TechCompany = companies.filter(function(company) {
        if (company.category === "IT") {
          return true;
        }
      });
      console.log(TechCompany);
      const MechCompany = companies.filter(
        (company) => company.category === "Mechanic"
      );
      console.log(MechCompany);

      const EarlyStart = companies.filter((com) => com.start > 1990);
      console.log(EarlyStart);

      // Get 80s company
      const eightiesCom = companies.filter(
        (company) => company.start >= 1980 && company.end <= 2020
      );
      console.log(eightiesCom);

      // Get companies that lasted 10 years or more
      const lastedCom = companies.filter((com) => com.end - com.start >= 95);
      console.log(lastedCom);

      const youngerman = students.filter((FromAge) => FromAge.age == 34);
      console.log(youngerman);
      const comeFrom = students.filter(
        (comeFrom) => comeFrom.from == "Afghanistan"
      );
      console.log(comeFrom);
      const legalAge = students.filter((correctAge) => correctAge.age >= 34);
      console.log(legalAge);

      // MAP *******************************************************************

      console.log("******     MAP    *****");
      // create array of company names.
      const companyName = companies.map(function(company) {
        return company.name;
      });
      console.log(companyName);

      const youFrom = students.map(function(myOrigin) {
        return myOrigin.from;
      });
      console.log(youFrom);

      const testCom = companies.map(function(company) {
        return `${company.name} is starts from ${company.start}`;
      });
      console.log(testCom);

      const testCom2 = companies.map(
        (company) => `${company.name} is starts from ${company.start}`
      );
      console.log(testCom2);

      const studentAge = students.map(function(theirold) {
        return `${theirold.name} is ${theirold.age} yearsold.`;
      });
      console.log(studentAge);

      const studentAge2 = students.map(
        (theirs) => `${theirs.name} is from ${theirs.from}.`
      );
      console.log(studentAge2);

      const ageSqr = ages.map((age) => Math.sqrt(age));
      console.log(ageSqr);
      const agetimes2 = ages.map((ages2) => ages2 * 2);
      console.log(`${ages},times 2 is =  ${agetimes2}`);

      // SORT  *******************************************************************************
      console.log("*****   SORT   *****");

      const sortedAges = ages.sort((a, b) => a - b);
      console.log(sortedAges);
      // sort companies by start year
      const sortedCom = companies.sort(function(c1, c2) {
        if (c1.start > c2.start) {
          return 1;
        } else {
          return -1;
        }
      });
      console.log(sortedCom);
      // sort students by their age
      const stAge = students.sort(function(a1, a2) {
        if (a1.age > a2.age) {
          return 1;
        } else {
          return -1;
        }
      });
      console.log(stAge);

      // sorted the students array by name
      const stSortedName = students.sort(function(n1, n2) {
        if (n1.name > n2.name) {
          return 1;
        } else {
          return -1;
        }
      });
      console.log(stSortedName);

      // REDUCE ***********************************************************

      console.log("*****   REDUCE    *****");
      // add all items to ages
      let ageSum = 0;
      for (let i = 0; i < ages.length; i++) {
        ageSum += ages[i];
      }
      console.log(ageSum);
      //
      const agesSum = ages.reduce(function(total, age) {
        return total + age;
      });
      console.log(agesSum);

      const agesSum2 = ages.reduce((total, age) => total + age);
      console.log(agesSum2);

      const stTotalAge = students.reduce(function(a, b) {
        return a.age + b.age;
      }, 0);
      console.log(stTotalAge);
      // the average of ages items
      function AvgAges(avg) {
        avg = ageSum / ages.length;
        return avg;
      }
      console.log(AvgAges());

      // Get total years for all companies
      const totalYears = companies.reduce(function(total, company) {
        return total + (company.end - company.start);
      }, 0);
      console.log(totalYears);
      // OR
      const totalYears2 = companies.reduce(
        (total, company) => total + (company.end - company.start),
        0
      );
      console.log(totalYears2);

      // COMBINE METHOD  ********************************************************************************
      const combined = ages
        .map((age) => age * 2)
        .filter((age) => age >= 21)
        .sort((a, b) => a - b)
        .reduce((a, b) => a + b, 0);
      console.log(combined);
    </script>
  </body>
</html>
